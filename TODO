Planned features / unsolved issues / wishlist items

* Allow an OpenVPN tunnel to provide only partial routing, instead of always
  providing the default route.
  + Request DHCP rfc3442-classless-static-routes and convert to matching
    push requests.
  + Per-realm flag whether or not to push the default route.
  + Pass full_username on to DHCP server as client-identifer, allowing the
    DHCP server to send static routes depending on the full_username.

* Refresh DHCP leases.
  + Remember granted leases, refresh in time.
  + Track client connection list and disconnect events.  Prevents refreshing
    leases from clients that are no longer connected.
  + Boot-strap the list of granted leases by reading all client connection
    lists and assuming that the next lease refresh is due soon.  (Alternatively,
    odrd would need to maintain a database.)
  + A lease time option must explicitly be set for a DHCP lease to be extended.
    Otherwise only the remaining lease time is returned.. (RFC 2131, p. 28)
  + For DHCPREQUESTs in renewing or rebinding state: 'requested IP address'
    MUST NOT be filled in, 'CIADDR' MUST be filled in. This means requests in
    those states are answered as unicasts without using giaddr, so we won't be
    able to do it that way.  Use a DHCPREQUEST in init-reboot state instead
    (RFC 2131 p. 31).

* Try to implement some mechanism to determine if an IP address is already in
  use (especially by non-OpenVPN users).
  + Use ARP resolve / ARP ping to determine whether an IP address is in use.
  + Communicate with other odr instances to determine whether the
    full_username is known as an active client to someone.
  + If IP active, but full_username unknown to odr instances -> non-OpenVPN
    user using the address -> request a different address.
    Otherwise the same full_username is active on several instances -> kill
    it on the older instance.
  + A delay of at least 10 seconds should be inserted after a DHCPDECLINE,
    before requesting a new address (RFC 2131, p.17).

* Release DHCP leases on coordinated disconnect.
  + Probably not possible, because there's no such thing as a coordinated
    disconnect in OpenVPN.

* Send DHCPREQUEST to all servers that were initially contacted.  This tells
  the servers that are not mentioned in the 'server identifier' field of the
  DHCPREQUEST, that the IP addresses they potentially offered may be freed
  again. (Compare with RFC 2131, page 16, section 3.1, points 3 and 4.)
  (This is optional though, as servers must time-out such offers themselves.)

* RFC 2131 requires: "The client MUST adopt a retransmission strategy that
    incorporates a randomized exponential backoff algorithm to determine the
    delay between retransmissions." (p. 24)
  So our DHCP retransmission code needs tweaking.
